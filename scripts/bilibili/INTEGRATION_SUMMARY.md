# Bilibili API é›†æˆæ€»ç»“

## é›†æˆå®Œæˆ âœ…

å·²æˆåŠŸå°† bilibili-api é¡¹ç›®çš„æ ¸å¿ƒæœç´¢åŠŸèƒ½é›†æˆåˆ°ç»Ÿä¸€æœç´¢æŠ€èƒ½åŒ…ä¸­ã€‚

## æ–‡ä»¶ç»“æ„

```
union-search-skill/
â””â”€â”€ scripts/
    â””â”€â”€ bilibili/
        â”œâ”€â”€ tikhub_bili_search.py      # åŸæœ‰ï¼šTikHub API æœç´¢
        â”œâ”€â”€ bilibili_api_search.py     # æ–°å¢ï¼šBilibili API é«˜çº§æœç´¢ â­
        â”œâ”€â”€ test_bilibili_api.py       # æ–°å¢ï¼šæµ‹è¯•è„šæœ¬
        â”œâ”€â”€ requirements.txt           # æ–°å¢ï¼šä¾èµ–æ–‡ä»¶
        â”œâ”€â”€ README.md                  # æ–°å¢ï¼šå®Œæ•´è¯´æ˜æ–‡æ¡£
        â”œâ”€â”€ QUICKSTART.md              # æ–°å¢ï¼šå¿«é€Ÿå…¥é—¨æŒ‡å—
        â””â”€â”€ responses/                 # åŸå§‹å“åº”ä¿å­˜ç›®å½•
```

## æ ¸å¿ƒåŠŸèƒ½

### 1. é«˜çº§æœç´¢åŠŸèƒ½
- âœ… åŸºäºå®˜æ–¹ bilibili-api åº“
- âœ… æ— éœ€ API Token
- âœ… æ”¯æŒå¤šç§æ’åºæ–¹å¼ï¼ˆç»¼åˆã€æ’­æ”¾é‡ã€å‘å¸ƒæ—¶é—´ã€å¼¹å¹•ã€æ”¶è—ï¼‰
- âœ… è‡ªåŠ¨æŒ‰æ’­æ”¾é‡æ’åº

### 2. è¯¦ç»†ä¿¡æ¯è·å–
- âœ… åŸºç¡€ä¿¡æ¯ï¼šæ ‡é¢˜ã€BVIDã€ä½œè€…ã€æ—¶é•¿ã€å‘å¸ƒæ—¶é—´
- âœ… äº’åŠ¨æ•°æ®ï¼šæ’­æ”¾é‡ã€å¼¹å¹•ã€ç‚¹èµã€æŠ•å¸ã€æ”¶è—ã€è½¬å‘ã€è¯„è®º
- âœ… è§†é¢‘ä¿¡æ¯ï¼šAVå·ã€åˆ†åŒºã€ç‰ˆæƒã€ç®€ä»‹
- âœ… UPä¸»ä¿¡æ¯ï¼šæ˜µç§°ã€UIDã€å¤´åƒ
- âœ… è§†é¢‘æ ‡ç­¾

### 3. å¤šç§è¾“å‡ºæ ¼å¼
- âœ… æ–‡æœ¬æ ¼å¼ï¼ˆæ ¼å¼åŒ–ç»ˆç«¯è¾“å‡ºï¼‰
- âœ… JSON æ ¼å¼ï¼ˆæ”¯æŒ pretty-printï¼‰
- âœ… Markdown æ ¼å¼ï¼ˆé€‚åˆç”ŸæˆæŠ¥å‘Šï¼‰

### 4. é«˜çº§ç‰¹æ€§
- âœ… åŸå§‹å“åº”ä¿å­˜ï¼ˆ`--save-raw`ï¼‰
- âœ… å¿«é€Ÿæ¨¡å¼ï¼ˆ`--no-details`ï¼‰
- âœ… ç¯å¢ƒå˜é‡æ”¯æŒ
- âœ… å®Œå–„çš„é”™è¯¯å¤„ç†
- âœ… è‡ªåŠ¨å»¶è¿Ÿé¿å…é™æµ

## å‘½ååŒºåˆ†

ä¸ºäº†ä¸ç°æœ‰çš„ TikHub API æœç´¢åŒºåˆ†ï¼Œé‡‡ç”¨äº†æ¸…æ™°çš„å‘½åç­–ç•¥ï¼š

| è„šæœ¬ | API æ¥æº | ç‰¹ç‚¹ |
|------|----------|------|
| `tikhub_bili_search.py` | TikHub API | ç®€å•å¿«é€Ÿï¼Œéœ€è¦ Token |
| `bilibili_api_search.py` | å®˜æ–¹ bilibili-api | åŠŸèƒ½å¼ºå¤§ï¼Œæ— éœ€ Token |

## å®‰è£…ä¾èµ–

```bash
cd C:\Users\zijie\.claude\skills\union-search-skill\scripts\bilibili
pip install -r requirements.txt
```

æˆ–è€…ï¼š

```bash
pip install bilibili-api-python aiohttp
```

## å¿«é€Ÿæµ‹è¯•

```bash
# æµ‹è¯•è„šæœ¬
python scripts/bilibili/test_bilibili_api.py

# å®é™…æœç´¢
python scripts/bilibili/bilibili_api_search.py "Pythonæ•™ç¨‹" --limit 3
```

## ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€æœç´¢
```bash
python scripts/bilibili/bilibili_api_search.py "Pythonæ•™ç¨‹"
```

### æŒ‰æ’­æ”¾é‡æ’åº
```bash
python scripts/bilibili/bilibili_api_search.py "åŸç¥" --order click --limit 10
```

### JSON è¾“å‡º
```bash
python scripts/bilibili/bilibili_api_search.py "ç¼–ç¨‹" --json --pretty
```

### Markdown æŠ¥å‘Š
```bash
python scripts/bilibili/bilibili_api_search.py "æœºå™¨å­¦ä¹ " --markdown -o report.md
```

### å¿«é€Ÿæœç´¢ï¼ˆä¸è·å–è¯¦ç»†ä¿¡æ¯ï¼‰
```bash
python scripts/bilibili/bilibili_api_search.py "æ¸¸æˆ" --no-details --limit 20
```

## æ–‡æ¡£æ›´æ–°

å·²æ›´æ–°ä»¥ä¸‹æ–‡æ¡£ï¼š

1. âœ… `SKILL.md` - æ·»åŠ äº† Bilibili API æœç´¢çš„å®Œæ•´è¯´æ˜
2. âœ… `scripts/bilibili/README.md` - ä¸¤ç§æœç´¢æ–¹å¼çš„å¯¹æ¯”å’Œä½¿ç”¨æŒ‡å—
3. âœ… `scripts/bilibili/QUICKSTART.md` - å¿«é€Ÿå…¥é—¨æŒ‡å—
4. âœ… `scripts/bilibili/requirements.txt` - ä¾èµ–æ¸…å•

## è®¾è®¡åŸåˆ™

### 1. ç®€æ´ç²¾ç‚¼
- æ ¸å¿ƒåŠŸèƒ½é›†ä¸­åœ¨ä¸€ä¸ªè„šæœ¬ä¸­
- ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤
- é¿å…è¿‡åº¦å·¥ç¨‹åŒ–

### 2. ç»Ÿä¸€é£æ ¼
- éµå¾ªç»Ÿä¸€æœç´¢æŠ€èƒ½åŒ…çš„å‘½åè§„èŒƒ
- è¾“å‡ºæ ¼å¼ä¸å…¶ä»–å¹³å°ä¿æŒä¸€è‡´
- å‚æ•°å‘½åç¬¦åˆé¡¹ç›®çº¦å®š

### 3. åŠŸèƒ½å®Œæ•´
- ä¿ç•™åŸé¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½
- æ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼
- å®Œå–„çš„é”™è¯¯å¤„ç†

### 4. æ˜“äºä½¿ç”¨
- æ¸…æ™°çš„å¸®åŠ©ä¿¡æ¯
- è¯¦ç»†çš„æ–‡æ¡£è¯´æ˜
- å¿«é€Ÿæµ‹è¯•è„šæœ¬

## ä¸åŸé¡¹ç›®çš„å¯¹æ¯”

| ç‰¹æ€§ | åŸé¡¹ç›® (advanced_search.py) | é›†æˆç‰ˆæœ¬ (bilibili_api_search.py) |
|------|------------------------------|-----------------------------------|
| æ ¸å¿ƒåŠŸèƒ½ | âœ… | âœ… |
| è¯¦ç»†ä¿¡æ¯ | âœ… | âœ… |
| å¤šç§æ’åº | âœ… | âœ… |
| JSON è¾“å‡º | âœ… | âœ… |
| Markdown è¾“å‡º | âœ… | âœ… |
| å‘½ä»¤è¡Œå‚æ•° | âŒ | âœ… |
| å¿«é€Ÿæ¨¡å¼ | âŒ | âœ… |
| ç¯å¢ƒå˜é‡ | âŒ | âœ… |
| ç»Ÿä¸€é£æ ¼ | âŒ | âœ… |
| ä»£ç ç²¾ç®€ | - | âœ… (çº¦ 400 è¡Œ) |

## ä¼˜åŒ–ç‚¹

1. **å‘½ä»¤è¡Œå‹å¥½**: æ”¯æŒå®Œæ•´çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œæ— éœ€ä¿®æ”¹ä»£ç 
2. **çµæ´»è¾“å‡º**: æ”¯æŒæ–‡æœ¬ã€JSONã€Markdown ä¸‰ç§æ ¼å¼
3. **æ€§èƒ½ä¼˜åŒ–**: æä¾› `--no-details` å¿«é€Ÿæ¨¡å¼
4. **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸æ•è·å’Œé”™è¯¯æç¤º
5. **æ–‡æ¡£å®Œå–„**: æä¾›å¤šå±‚æ¬¡çš„æ–‡æ¡£æ”¯æŒ

## åç»­å»ºè®®

1. **æµ‹è¯•**: è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯åŠŸèƒ½
2. **æ–‡æ¡£**: æŸ¥çœ‹ QUICKSTART.md äº†è§£å¿«é€Ÿä½¿ç”¨
3. **é›†æˆ**: å¯ä»¥åœ¨å…¶ä»–è„šæœ¬ä¸­å¯¼å…¥ä½¿ç”¨
4. **æ‰©å±•**: å¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ æ›´å¤šåŠŸèƒ½ï¼ˆå¦‚æ‰¹é‡æœç´¢ã€æ•°æ®åˆ†æç­‰ï¼‰

## æ€»ç»“

âœ… æˆåŠŸé›†æˆ bilibili-api æ ¸å¿ƒæœç´¢åŠŸèƒ½
âœ… ä¿æŒç®€æ´ç²¾ç‚¼çš„ä»£ç ç»“æ„
âœ… éµå¾ªç»Ÿä¸€æœç´¢æŠ€èƒ½åŒ…çš„è§„èŒƒ
âœ… æä¾›å®Œå–„çš„æ–‡æ¡£å’Œæµ‹è¯•æ”¯æŒ
âœ… ä¸ç°æœ‰åŠŸèƒ½æ¸…æ™°åŒºåˆ†ï¼Œäº’ä¸å†²çª

é›†æˆå®Œæˆï¼ğŸ‰
